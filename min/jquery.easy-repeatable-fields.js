/* Repeatable Fields (c) Aaron Gustafson (@AaronGustafson). MIT License. http://github.com/easy-designs/jquery.easy-repeatable-fields.js */
(function(b){var a="click",f=b("li[data-repeatable]"),g=f.parent(),h=g.find("[data-removable]"),i=b('<button class="remove" type="button">Remove</button>'),e=b('<button class="add" type="button">Add Another</button>'),c=f.append(e).clone(),d=/(.*)(\d+)(.*)/;if("touchend" in window){a="touchend"}g.on(a,"button.remove",function(j){b(this).closest("[data-removable]").remove()});g.on(a,"button.add",function(m){var l=b(this).closest("[data-repeatable]"),j=l.find("label"),k=c.clone();l.hide().removeAttr("data-repeatable").attr("data-removable","").append(i.clone()).find("button.add").remove().end().find("label").each(function(o){var n=b(this),t=n.attr("for"),q=n.attr("for").match(d),r=parseInt(q[2],10)+1,p=n.text().match(d),s=parseInt(p[2],10)+1;console.log(o,c.find("label:eq("+o+")"));k.find("label:eq("+o+")").text(p[1]+s+p[3]).attr("for",q[1]+r+q[3]).end().find("#"+t).attr("id",q[1]+r+q[3])}).end().show();g.append(k)})}(jQuery));